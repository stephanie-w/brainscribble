<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>R: Multivariable Regression - Brain Scribble</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link href="http://stephanie-w.github.io/blog/images/brain-scribble.jpg" rel="icon">

<link rel="canonical" href="http://stephanie-w.github.io/blog/multivariable-regression.html">

        <meta name="author" content="Stephanie W" />
        <meta name="keywords" content="R" />
        <meta name="description" content="Exploring multivariable regression with the hunger dataset" />

        <meta property="og:site_name" content="Brain Scribble" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="R: Multivariable Regression"/>
        <meta property="og:url" content="http://stephanie-w.github.io/blog/multivariable-regression.html"/>
        <meta property="og:description" content="Exploring multivariable regression with the hunger dataset"/>
        <meta property="article:published_time" content="2015-07-12" />
            <meta property="article:section" content="DataAnalysis" />
            <meta property="article:tag" content="R" />
            <meta property="article:author" content="Stephanie W" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://stephanie-w.github.io/blog/theme/css/bootstrap.lumen.min.css" type="text/css"/>
    <link href="http://stephanie-w.github.io/blog/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://stephanie-w.github.io/blog/theme/css/pygments/solarized.css" rel="stylesheet">
    <link rel="stylesheet" href="http://stephanie-w.github.io/blog/theme/css/style.css" type="text/css"/>

        <link href="http://stephanie-w.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Brain Scribble ATOM Feed"/>



        <link href="http://stephanie-w.github.io/blog/feeds/dataanalysis.atom.xml" type="application/atom+xml" rel="alternate"
              title="Brain Scribble DataAnalysis ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://stephanie-w.github.io/blog/" class="navbar-brand">
Brain Scribble            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="http://stephanie-w.github.io/blog/category/dataanalysis.html">DataAnalysis</a>
                        </li>
                        <li >
                            <a href="http://stephanie-w.github.io/blog/category/games.html">Games</a>
                        </li>
                        <li >
                            <a href="http://stephanie-w.github.io/blog/category/projectmanagement.html">ProjectManagement</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://stephanie-w.github.io/blog/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://stephanie-w.github.io/blog/multivariable-regression.html"
                       rel="bookmark"
                       title="Permalink to R: Multivariable Regression">
                        R: Multivariable Regression
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-07-12T00:00:00+02:00"> 2015-07-12</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="http://stephanie-w.github.io/blog/tag/r.html">R</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <hr />
<p><!-- BEGIN_SUMMARY -->
<!-- END_SUMMARY -->
This is my note on swirl course Regression Model : Multivariable Examples 3. </p>
<p>We'll use the hunger dataset from the course:</p>
<div class="highlight"><pre><span class="code-line">download.file<span class="p">(</span><span class="s">&quot;https://raw.githubusercontent.com/swirldev/swirl_courses/master/Regression_Models/MultiVar_Examples3/hunger.csv&quot;</span><span class="p">,</span> </span>
<span class="code-line">    <span class="s">&quot;hunger.csv&quot;</span><span class="p">,</span> method <span class="o">=</span> <span class="s">&quot;curl&quot;</span><span class="p">,</span> quiet <span class="o">=</span> <span class="bp">T</span><span class="p">)</span></span>
<span class="code-line">hunger <span class="o">&lt;-</span> read.csv<span class="p">(</span><span class="s">&quot;hunger.csv&quot;</span><span class="p">)</span></span>
<span class="code-line"><span class="kp">head</span><span class="p">(</span>hunger<span class="p">)</span></span>
</pre></div>


<div class="highlight"><pre><span class="code-line">##    X                              Indicator Data.Source PUBLISH.STATES Year WHO.region  Country</span>
<span class="code-line">## 1  8 Children aged &lt;5 years underweight (%) NLIS_310044      Published 1986     Africa  Senegal</span>
<span class="code-line">## 2 11 Children aged &lt;5 years underweight (%) NLIS_310095      Published 1989     Africa   Uganda</span>
<span class="code-line">## 3 13 Children aged &lt;5 years underweight (%) NLIS_310138      Published 1988     Africa Zimbabwe</span>
<span class="code-line">## 4 16 Children aged &lt;5 years underweight (%) NLIS_310044      Published 1986     Africa  Senegal</span>
<span class="code-line">## 5 18 Children aged &lt;5 years underweight (%) NLIS_310095      Published 1989     Africa   Uganda</span>
<span class="code-line">## 6 21 Children aged &lt;5 years underweight (%) NLIS_310138      Published 1988     Africa Zimbabwe</span>
<span class="code-line">##      Sex Display.Value Numeric Low High Comments</span>
<span class="code-line">## 1   Male          19.3    19.3  NA   NA       NA</span>
<span class="code-line">## 2 Female          19.1    19.1  NA   NA       NA</span>
<span class="code-line">## 3 Female           7.2     7.2  NA   NA       NA</span>
<span class="code-line">## 4 Female          15.3    15.3  NA   NA       NA</span>
<span class="code-line">## 5   Male          20.4    20.4  NA   NA       NA</span>
<span class="code-line">## 6   Male           8.7     8.7  NA   NA       NA</span>
</pre></div>


<p>The Numeric column gives the percentage of children under age 5 who were underweight when that sample was taken.<br />
We fit a simple linear regression for Numeric (outcome) on Year:</p>
<div class="highlight"><pre><span class="code-line">fit <span class="o">&lt;-</span> lm<span class="p">(</span>Numeric <span class="o">~</span> Year<span class="p">,</span> hunger<span class="p">)</span></span>
<span class="code-line"><span class="kp">summary</span><span class="p">(</span>fit<span class="p">)</span></span>
</pre></div>


<div class="highlight"><pre><span class="code-line">## </span>
<span class="code-line">## Call:</span>
<span class="code-line">## lm(formula = Numeric ~ Year, data = hunger)</span>
<span class="code-line">## </span>
<span class="code-line">## Residuals:</span>
<span class="code-line">##     Min      1Q  Median      3Q     Max </span>
<span class="code-line">## -24.621 -11.196  -1.994   7.085  45.039 </span>
<span class="code-line">## </span>
<span class="code-line">## Coefficients:</span>
<span class="code-line">##              Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="code-line">## (Intercept) 634.47966  121.14460   5.237 2.01e-07 ***</span>
<span class="code-line">## Year         -0.30840    0.06053  -5.095 4.21e-07 ***</span>
<span class="code-line">## ---</span>
<span class="code-line">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="code-line">## </span>
<span class="code-line">## Residual standard error: 13.23 on 946 degrees of freedom</span>
<span class="code-line">## Multiple R-squared:  0.02671,    Adjusted R-squared:  0.02568 </span>
<span class="code-line">## F-statistic: 25.96 on 1 and 946 DF,  p-value: 4.209e-07</span>
</pre></div>


<p>As time goes on, the rate of hunger decreases.<br />
The intercept of the model represents the percentage of hungry children at year 0.  </p>
<p>Let's look at the rates of hunger for the different genders to see how, or even if, they differ:</p>
<div class="highlight"><pre><span class="code-line">lmF <span class="o">&lt;-</span> lm<span class="p">(</span>Numeric<span class="p">[</span>hunger<span class="o">$</span>Sex <span class="o">==</span> <span class="s">&quot;Female&quot;</span><span class="p">]</span> <span class="o">~</span> Year<span class="p">[</span>hunger<span class="o">$</span>Sex <span class="o">==</span> <span class="s">&quot;Female&quot;</span><span class="p">],</span> data <span class="o">=</span> hunger<span class="p">)</span></span>
<span class="code-line"><span class="kp">summary</span><span class="p">(</span>lmF<span class="p">)</span></span>
</pre></div>


<div class="highlight"><pre><span class="code-line"><span class="cp">##</span><span class="c"> </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> Call:</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> lm(formula = Numeric[hunger$Sex == &quot;Female&quot;] ~ Year[hunger$Sex == </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c">     &quot;Female&quot;], data = hunger)</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> Residuals:</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c">     Min      1Q  Median      3Q     Max </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> -23.228 -10.638  -1.959   6.859  46.146 </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> Coefficients:</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c">                               Estimate Std. Error t value Pr(&gt;|t|)    </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> (Intercept)                  603.50580  167.53201   3.602 0.000349 ***</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> Year[hunger$Sex == &quot;Female&quot;]  -0.29340    0.08371  -3.505 0.000500 ***</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> ---</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> Residual standard error: 12.94 on 472 degrees of freedom</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> Multiple R-squared:  0.02537,    Adjusted R-squared:  0.0233 </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> F-statistic: 12.29 on 1 and 472 DF,  p-value: 5e-04</span><span class="x"></span></span>
</pre></div>


<div class="highlight"><pre><span class="code-line">lmM <span class="o">&lt;-</span> lm<span class="p">(</span>Numeric<span class="p">[</span>hunger<span class="o">$</span>Sex <span class="o">==</span> <span class="s">&quot;Male&quot;</span><span class="p">]</span> <span class="o">~</span> Year<span class="p">[</span>hunger<span class="o">$</span>Sex <span class="o">==</span> <span class="s">&quot;Male&quot;</span><span class="p">],</span> data <span class="o">=</span> hunger<span class="p">)</span></span>
<span class="code-line"><span class="kp">summary</span><span class="p">(</span>lmM<span class="p">)</span></span>
</pre></div>


<div class="highlight"><pre><span class="code-line"><span class="cp">##</span><span class="c"> </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> Call:</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> lm(formula = Numeric[hunger$Sex == &quot;Male&quot;] ~ Year[hunger$Sex == </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c">     &quot;Male&quot;], data = hunger)</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> Residuals:</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c">     Min      1Q  Median      3Q     Max </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> -25.913 -11.741  -1.832   7.399  42.255 </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> Coefficients:</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c">                             Estimate Std. Error t value Pr(&gt;|t|)    </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> (Intercept)                665.45352  174.50726   3.813 0.000155 ***</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> Year[hunger$Sex == &quot;Male&quot;]  -0.32340    0.08719  -3.709 0.000233 ***</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> ---</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> Residual standard error: 13.48 on 472 degrees of freedom</span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> Multiple R-squared:  0.02832,    Adjusted R-squared:  0.02626 </span><span class="x"></span></span>
<span class="code-line"><span class="cp">##</span><span class="c"> F-statistic: 13.76 on 1 and 472 DF,  p-value: 0.0002328</span><span class="x"></span></span>
</pre></div>


<p>We plot the data points and fitted lines using different colors to distinguish between males (blue) and females (pink).</p>
<div class="highlight"><pre><span class="code-line">plot<span class="p">(</span>hunger<span class="o">$</span>Year<span class="p">,</span> hunger<span class="o">$</span>Numeric<span class="p">,</span> type <span class="o">=</span> <span class="s">&quot;n&quot;</span><span class="p">)</span></span>
<span class="code-line">points<span class="p">(</span>hunger<span class="o">$</span>Year<span class="p">,</span> hunger<span class="o">$</span>Numeric<span class="p">,</span> pch <span class="o">=</span> <span class="m">19</span><span class="p">,</span> col <span class="o">=</span> <span class="p">((</span>hunger<span class="o">$</span>Sex <span class="o">==</span> <span class="s">&quot;Female&quot;</span><span class="p">)</span> <span class="o">*</span> <span class="m">1</span> <span class="o">+</span> <span class="m">125</span><span class="p">))</span></span>
<span class="code-line">lines<span class="p">(</span>hunger<span class="o">$</span>Year<span class="p">[</span>hunger<span class="o">$</span>Sex <span class="o">==</span> <span class="s">&quot;Male&quot;</span><span class="p">],</span> lmM<span class="o">$</span>fitted<span class="p">,</span> col <span class="o">=</span> <span class="s">&quot;blue&quot;</span><span class="p">,</span> lwd <span class="o">=</span> <span class="m">3</span><span class="p">)</span></span>
<span class="code-line">lines<span class="p">(</span>hunger<span class="o">$</span>Year<span class="p">[</span>hunger<span class="o">$</span>Sex <span class="o">==</span> <span class="s">&quot;Female&quot;</span><span class="p">],</span> lmF<span class="o">$</span>fitted<span class="p">,</span> col <span class="o">=</span> <span class="s">&quot;red&quot;</span><span class="p">,</span> lwd <span class="o">=</span> <span class="m">3</span><span class="p">)</span></span>
</pre></div>


<div class="rimage center"><img src="figure/multivariable-regression-4-1.png"/></div>

<p>We can see from the plot that the lines are not exactly parallel. On the right side of the graph (around the year 2010) they are closer together than on the left side (around 1970). Slopes are -0.29340 for femals, -0.32340 for males.</p>
<p>Now instead of separating the data by subsetting the samples by gender, we'll use gender as another predictor to create the linear model:</p>
<div class="highlight"><pre><span class="code-line">lmBoth <span class="o">&lt;-</span> lm<span class="p">(</span>Numeric <span class="o">~</span> Year <span class="o">+</span> Sex<span class="p">,</span> data <span class="o">=</span> hunger<span class="p">)</span></span>
<span class="code-line"><span class="kp">summary</span><span class="p">(</span>lmBoth<span class="p">)</span></span>
</pre></div>


<div class="highlight"><pre><span class="code-line">## </span>
<span class="code-line">## Call:</span>
<span class="code-line">## lm(formula = Numeric ~ Year + Sex, data = hunger)</span>
<span class="code-line">## </span>
<span class="code-line">## Residuals:</span>
<span class="code-line">##     Min      1Q  Median      3Q     Max </span>
<span class="code-line">## -25.472 -11.297  -1.848   7.058  45.990 </span>
<span class="code-line">## </span>
<span class="code-line">## Coefficients:</span>
<span class="code-line">##             Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="code-line">## (Intercept) 633.5283   120.8950   5.240 1.98e-07 ***</span>
<span class="code-line">## Year         -0.3084     0.0604  -5.106 3.99e-07 ***</span>
<span class="code-line">## SexMale       1.9027     0.8576   2.219   0.0267 *  </span>
<span class="code-line">## ---</span>
<span class="code-line">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="code-line">## </span>
<span class="code-line">## Residual standard error: 13.2 on 945 degrees of freedom</span>
<span class="code-line">## Multiple R-squared:  0.03175,    Adjusted R-squared:  0.0297 </span>
<span class="code-line">## F-statistic: 15.49 on 2 and 945 DF,  p-value: 2.392e-07</span>
</pre></div>


<p>Notice that Male and Female are factors (factors are treated in alphabetic order, so reference, here, is the Female group).<br />
The intercept represents the percentage of hungry females at year 0.<br />
The estimate for the factor Male 1.9027 is a distance from the intercept (the estimate of the reference group Female). So the percentage of hungry males at year 0 is the sum of the intercept and the male estimate, ie. 633.5283 + 1.9027 = 635.431<br />
The estimate for hunger$Year represents the annual decrease in percentage of both gender.</p>
<p>In the plot, the red line will have the female intercept and the  blue line will have the male intercept:</p>
<div class="highlight"><pre><span class="code-line">plot<span class="p">(</span>hunger<span class="o">$</span>Year<span class="p">,</span> hunger<span class="o">$</span>Numeric<span class="p">,</span> pch <span class="o">=</span> <span class="m">19</span><span class="p">)</span></span>
<span class="code-line">points<span class="p">(</span>hunger<span class="o">$</span>Year<span class="p">,</span> hunger<span class="o">$</span>Numeric<span class="p">,</span> pch <span class="o">=</span> <span class="m">19</span><span class="p">,</span> col <span class="o">=</span> <span class="p">((</span>hunger<span class="o">$</span>Sex <span class="o">==</span> <span class="s">&quot;Female&quot;</span><span class="p">)</span> <span class="o">*</span> <span class="m">1</span> <span class="o">+</span> <span class="m">125</span><span class="p">))</span></span>
<span class="code-line">abline<span class="p">(</span><span class="kt">c</span><span class="p">(</span>lmBoth<span class="o">$</span>coeff<span class="p">[</span><span class="m">1</span><span class="p">],</span> lmBoth<span class="o">$</span>coeff<span class="p">[</span><span class="m">2</span><span class="p">]),</span> col <span class="o">=</span> <span class="s">&quot;red&quot;</span><span class="p">,</span> lwd <span class="o">=</span> <span class="m">3</span><span class="p">)</span></span>
<span class="code-line">abline<span class="p">(</span><span class="kt">c</span><span class="p">(</span>lmBoth<span class="o">$</span>coeff<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="o">+</span> lmBoth<span class="o">$</span>coeff<span class="p">[</span><span class="m">3</span><span class="p">],</span> lmBoth<span class="o">$</span>coeff<span class="p">[</span><span class="m">2</span><span class="p">]),</span> col <span class="o">=</span> <span class="s">&quot;blue&quot;</span><span class="p">,</span> lwd <span class="o">=</span> <span class="m">3</span><span class="p">)</span></span>
</pre></div>


<div class="rimage center"><img src="figure/multivariable-regression-6-1.png"/></div>

<p>The lines are parallels (since, they have the same slope lmBoth$coeff[2]).</p>
<p>Now we'll consider the interaction between year and gender to see how that affects changes in rates of hunger:</p>
<div class="highlight"><pre><span class="code-line">lmInter <span class="o">&lt;-</span> lm<span class="p">(</span>Numeric <span class="o">~</span> Year <span class="o">+</span> Sex <span class="o">+</span> Sex <span class="o">*</span> Year<span class="p">,</span> data <span class="o">=</span> hunger<span class="p">)</span></span>
<span class="code-line"><span class="kp">summary</span><span class="p">(</span>lmInter<span class="p">)</span></span>
</pre></div>


<div class="highlight"><pre><span class="code-line">## </span>
<span class="code-line">## Call:</span>
<span class="code-line">## lm(formula = Numeric ~ Year + Sex + Sex * Year, data = hunger)</span>
<span class="code-line">## </span>
<span class="code-line">## Residuals:</span>
<span class="code-line">##     Min      1Q  Median      3Q     Max </span>
<span class="code-line">## -25.913 -11.248  -1.853   7.087  46.146 </span>
<span class="code-line">## </span>
<span class="code-line">## Coefficients:</span>
<span class="code-line">##               Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="code-line">## (Intercept)  603.50580  171.05519   3.528 0.000439 ***</span>
<span class="code-line">## Year          -0.29340    0.08547  -3.433 0.000623 ***</span>
<span class="code-line">## SexMale       61.94772  241.90858   0.256 0.797946    </span>
<span class="code-line">## Year:SexMale  -0.03000    0.12087  -0.248 0.804022    </span>
<span class="code-line">## ---</span>
<span class="code-line">## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span>
<span class="code-line">## </span>
<span class="code-line">## Residual standard error: 13.21 on 944 degrees of freedom</span>
<span class="code-line">## Multiple R-squared:  0.03181,    Adjusted R-squared:  0.02874 </span>
<span class="code-line">## F-statistic: 10.34 on 3 and 944 DF,  p-value: 1.064e-06</span>
</pre></div>


<p>The percentage of hungry females at year 0 is 603.5058.<br />
The percentage of hungry males at year 0 is 665.4535 (603.50580  + 61.94772).<br />
The annual change (decrease) in percentage of hungry females is 0.29340.<br />
The estimate associated with Year:SexMale represents the distance of the annual change in percent of males from that of females.
The annual change in percentage of hungry males is -0.32340 (-0.29340 - 0.03000).</p>
<div class="highlight"><pre><span class="code-line">plot<span class="p">(</span>hunger<span class="o">$</span>Year<span class="p">,</span> hunger<span class="o">$</span>Numeric<span class="p">,</span> pch <span class="o">=</span> <span class="m">19</span><span class="p">)</span></span>
<span class="code-line">points<span class="p">(</span>hunger<span class="o">$</span>Year<span class="p">,</span> hunger<span class="o">$</span>Numeric<span class="p">,</span> pch <span class="o">=</span> <span class="m">19</span><span class="p">,</span> col <span class="o">=</span> <span class="p">((</span>hunger<span class="o">$</span>Sex <span class="o">==</span> <span class="s">&quot;Male&quot;</span><span class="p">)</span> <span class="o">*</span> <span class="m">1</span> <span class="o">+</span> <span class="m">125</span><span class="p">))</span></span>
<span class="code-line">abline<span class="p">(</span><span class="kt">c</span><span class="p">(</span>lmInter<span class="o">$</span>coeff<span class="p">[</span><span class="m">1</span><span class="p">],</span> lmInter<span class="o">$</span>coeff<span class="p">[</span><span class="m">2</span><span class="p">]),</span> col <span class="o">=</span> <span class="s">&quot;red&quot;</span><span class="p">,</span> lwd <span class="o">=</span> <span class="m">3</span><span class="p">)</span></span>
<span class="code-line">abline<span class="p">(</span><span class="kt">c</span><span class="p">(</span>lmInter<span class="o">$</span>coeff<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="o">+</span> lmInter<span class="o">$</span>coeff<span class="p">[</span><span class="m">3</span><span class="p">],</span> lmInter<span class="o">$</span>coeff<span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="o">+</span> lmInter<span class="o">$</span>coeff<span class="p">[</span><span class="m">4</span><span class="p">]),</span> col <span class="o">=</span> <span class="s">&quot;blue&quot;</span><span class="p">,</span> lwd <span class="o">=</span> <span class="m">3</span><span class="p">)</span></span>
</pre></div>


<div class="rimage center"><img src="figure/multivariable-regression-8-1.png"/></div>

<p>The lines are not parallel and will eventually intersect. The Male blue line indicates a faster rate of change.</p>
<p>Here we're dealing with an interaction between factors.</p>
<p>Suppose we have two interacting predictors and one of them is held constant.<br />
The expected change in the outcome for a unit change in the other predictor is the coefficient of that changing predictor  + the coefficient of the interaction * the value of the predictor held constant.</p>
<p>For example, let's the model be : <span class="math">\(H_i = b_0 + (b_1*I_i) + (b_2*Y_i)+ (b_3*I_i*Y_i)\)</span> with H the outcomes, I's and Y's the predictors and b's the estimated coefficients of the predictors.<br />
If I is fixed at a value, 5 and Y varies, <span class="math">\(b_2 + b3*5\)</span> represents the change in H per unit change in Y given that I is fixed at 5.</p>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }
    
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="http://stephanie-w.github.io/blog/weather_event_impact.html">R: Analysis of weather events impact on population health and economy.</a></li>
        <li><a href="http://stephanie-w.github.io/blog/experimentation-of-clt.html">R: Experimentation of the Cental Limit Theorem</a></li>
        <li><a href="http://stephanie-w.github.io/blog/exploring-data-for-marchine-learning.html">R : Exploring Data for Machine Learning Modeling</a></li>
        <li><a href="http://stephanie-w.github.io/blog/hypothesis-testing-and-t-tests.html">Notes on Statistical Inference : Hypothesis Testing and t-tests</a></li>
        <li><a href="http://stephanie-w.github.io/blog/linear-model-diagnosis-for-machine-learning.html">R : Linear Model Diagnosis for Machine Learning Modeling</a></li>
    </ul>
</section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
    <li class="list-group-item">
        <ul class="list-group" id="links">
            <img class="img-thumbnail" src="http://stephanie-w.github.io/blog/images/brain-scribble.jpg"/>
        </ul>
    </li>
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://fr.linkedin.com/pub/stephanie-werli/26/b69/a0b"><i class="fa fa-linkedin-square fa-lg"></i> linkedin</a></li>
                <li class="list-group-item"><a href="http://github.com/stephanie-w"><i class="fa fa-github-square fa-lg"></i> github</a></li>
              </ul>
            </li>




    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2015 Stephanie W
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://stephanie-w.github.io/blog/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://stephanie-w.github.io/blog/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://stephanie-w.github.io/blog/theme/js/respond.min.js"></script>


</body>
</html>