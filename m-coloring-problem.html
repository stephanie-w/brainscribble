<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Backtracking - M Coloring Problem - Brain Scribble</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link href="http://stephanie-w.github.io/brainscribble/images/brain-scribble-ico.png" rel="icon">

<link rel="canonical" href="http://stephanie-w.github.io/brainscribble/m-coloring-problem.html">

        <meta name="author" content="Stephanie W" />
        <meta name="keywords" content="python,algorithm" />
        <meta name="description" content="Backtracking is an algorithmic paradigm that tries different solutions until finds a solution that “works”. Problems which are typically solved using backtracking technique have following property in common. These problems can only be solved by trying every possible configuration and each configuration is tried only once. Given an undirected graph …" />

        <meta property="og:site_name" content="Brain Scribble" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Backtracking - M Coloring Problem"/>
        <meta property="og:url" content="http://stephanie-w.github.io/brainscribble/m-coloring-problem.html"/>
        <meta property="og:description" content="Backtracking is an algorithmic paradigm that tries different solutions until finds a solution that “works”. Problems which are typically solved using backtracking technique have following property in common. These problems can only be solved by trying every possible configuration and each configuration is tried only once. Given an undirected graph …"/>
        <meta property="article:published_time" content="2015-09-06" />
            <meta property="article:section" content="PythonIdioms" />
            <meta property="article:tag" content="python" />
            <meta property="article:tag" content="algorithm" />
            <meta property="article:author" content="Stephanie W" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://stephanie-w.github.io/brainscribble/theme/css/bootstrap.lumen.min.css" type="text/css"/>
    <link href="http://stephanie-w.github.io/brainscribble/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://stephanie-w.github.io/brainscribble/theme/css/pygments/solarized.css" rel="stylesheet">
    <link rel="stylesheet" href="http://stephanie-w.github.io/brainscribble/theme/css/style.css" type="text/css"/>





    <!-- Mathjax -->
    <script type="text/javascript"
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://stephanie-w.github.io/brainscribble/" class="navbar-brand">
Brain Scribble            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li >
                            <a href="http://stephanie-w.github.io/brainscribble/category/dataanalysis.html">DataAnalysis</a>
                        </li>
                        <li >
                            <a href="http://stephanie-w.github.io/brainscribble/category/games.html">Games</a>
                        </li>
                        <li >
                            <a href="http://stephanie-w.github.io/brainscribble/category/projectmanagement.html">ProjectManagement</a>
                        </li>
                        <li class="active">
                            <a href="http://stephanie-w.github.io/brainscribble/category/pythonidioms.html">PythonIdioms</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://stephanie-w.github.io/brainscribble/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://stephanie-w.github.io/brainscribble/m-coloring-problem.html"
                       rel="bookmark"
                       title="Permalink to Backtracking - M Coloring Problem">
                        Backtracking - M Coloring Problem
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-09-06T00:00:00+02:00"> 2015-09-06</time>
    </span>

            <span class="label label-default">Series</span>
            Part 1 of backtracking




<span class="label label-default">Tags</span>
	<a href="http://stephanie-w.github.io/brainscribble/tag/python.html">python</a>
        /
	<a href="http://stephanie-w.github.io/brainscribble/tag/algorithm.html">algorithm</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <hr />
<p>Backtracking is an algorithmic paradigm that tries different solutions until finds a solution that “works”. Problems which are typically solved using backtracking technique have following property in common. These problems can only be solved by trying every possible configuration and each configuration is tried only once.</p>
<p>Given an undirected graph and a number m, determine if the graph can be colored with at most m colors such that no two adjacent vertices of the graph are colored with same color. Here coloring of a graph means assignment of colors to all vertices.</p>
<p>1) A 2D array graph[V][V] where V is the number of vertices in graph and graph[V][V] is adjacency matrix representation of the graph. A value graph[i][j] is 1 if there is a direct edge from i to j, otherwise graph[i][j] is 0.<br />
2) An integer m which is maximum number of colors that can be used.</p>
<p>Output:
An array color[V] that should have numbers from 1 to m. color[i] should represent the color assigned to the ith vertex. The code should also return false if the graph cannot be colored with m colors.</p>
<p><img alt="png" src="figure/graph_col.png" /></p>
<p>Algorithm:</p>
<div class="highlight"><pre><span class="code-line"><span></span>If all colors are assigned,</span>
<span class="code-line">    print vertex assigned colors</span>
<span class="code-line">Else</span>
<span class="code-line">    a. Trying all possible colors, assign a color to the vertex</span>
<span class="code-line">    b. If color assignment is possible, recursivelty assign colors to next vertices</span>
<span class="code-line">    c. If color assignment is not possible, de-assign color, return False</span>
</pre></div>


<p>Code:</p>
<div class="highlight"><pre><span class="code-line"><span></span><span class="k">def</span> <span class="nf">is_safe</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span></span>
<span class="code-line">    <span class="c1"># Iterate trough adjacent vertices</span></span>
<span class="code-line">    <span class="c1"># and check if the vertex color is different from c</span></span>
<span class="code-line">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">n</span><span class="p">):</span></span>
<span class="code-line">        <span class="k">if</span> <span class="n">graph</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="n">c</span> <span class="o">==</span> <span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span> <span class="k">return</span> <span class="bp">False</span></span>
<span class="code-line">    <span class="k">return</span> <span class="bp">True</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1"># n = vertex nb</span></span>
<span class="code-line"><span class="k">def</span> <span class="nf">graphColoringUtil</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">color_nb</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span></span>
<span class="code-line">    <span class="c1"># Check if all vertices are assigned a color</span></span>
<span class="code-line">    <span class="k">if</span> <span class="n">color_nb</span><span class="o">+</span><span class="mi">1</span> <span class="o">==</span> <span class="n">n</span> <span class="p">:</span></span>
<span class="code-line">        <span class="k">return</span> <span class="bp">True</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="c1"># Trying differents color for the vertex n</span></span>
<span class="code-line">    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">color_nb</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span></span>
<span class="code-line">        <span class="c1"># Check if assignment of color c to n is possible</span></span>
<span class="code-line">        <span class="k">if</span> <span class="n">is_safe</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span></span>
<span class="code-line">            <span class="c1"># Assign color c to n</span></span>
<span class="code-line">            <span class="n">colors</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span></span>
<span class="code-line">            <span class="c1"># Recursively assign colors to the rest of the vertices</span></span>
<span class="code-line">            <span class="k">if</span> <span class="n">graphColoringUtil</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">color_nb</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span> <span class="k">return</span> <span class="bp">True</span></span>
<span class="code-line">            <span class="c1"># If there is no solution, remove color (BACKTRACK)</span></span>
<span class="code-line">            <span class="n">colors</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span></span>
</pre></div>


<p>We test the algorithm for the following graph and test whether it is 3 colorable:</p>
<div class="highlight"><pre><span class="code-line"><span></span>   (3)---(2)</span>
<span class="code-line">    |   / |</span>
<span class="code-line">    |  /  |</span>
<span class="code-line">    | /   |</span>
<span class="code-line">   (0)---(1)</span>
</pre></div>


<div class="highlight"><pre><span class="code-line"><span></span><span class="c1">#nb of vertex</span></span>
<span class="code-line"><span class="n">vertex_nb</span> <span class="o">=</span> <span class="mi">4</span></span>
<span class="code-line"><span class="c1"># nb of colors</span></span>
<span class="code-line"><span class="n">color_nb</span> <span class="o">=</span> <span class="mi">3</span></span>
<span class="code-line"><span class="c1"># Initiate vertex colors</span></span>
<span class="code-line"><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">vertex_nb</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">graph</span> <span class="o">=</span> <span class="p">[</span></span>
<span class="code-line">    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span></span>
<span class="code-line">    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span></span>
<span class="code-line">    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span></span>
<span class="code-line">    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span></span>
<span class="code-line"><span class="p">]</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">#beginning with vertex 0</span></span>
<span class="code-line"><span class="k">if</span> <span class="n">graphColoringUtil</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">color_nb</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span></span>
<span class="code-line">    <span class="k">print</span> <span class="n">colors</span></span>
<span class="code-line"><span class="k">else</span><span class="p">:</span></span>
<span class="code-line">    <span class="k">print</span> <span class="s2">&quot;No solutions&quot;</span></span>
</pre></div>


<div class="highlight"><pre><span class="code-line"><span></span>[1, 2, 3, 2]</span>
</pre></div>


<p>The solution corresponds to the following assignments: <br />
1st node : color 1<br />
2nd node : color 2<br />
3rd node : color 3  </p>
<!--
Sources
http://www.geeksforgeeks.org/backttracking-set-5-m-coloring-problem/
-->
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Part 1 of the backtracking series</h4>
       <h5>Next articles</h5>
       <ul>
           <li><a href="http://stephanie-w.github.io/brainscribble/rat-in-a-maze.html">Backtracking - Rat in a Maze</a></li>
       </ul>
</section>
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="http://stephanie-w.github.io/brainscribble/rat-in-a-maze.html">Backtracking - Rat in a Maze</a></li>
        <li><a href="http://stephanie-w.github.io/brainscribble/vigenere_cypher.html">Encoding/Decoding Vigenere Cypher</a></li>
        <li><a href="http://stephanie-w.github.io/brainscribble/combinations.html">All possible combinations</a></li>
        <li><a href="http://stephanie-w.github.io/brainscribble/binary2ascii.html">Decoding Binary Code (ascii)</a></li>
        <li><a href="http://stephanie-w.github.io/brainscribble/primes.html">Generating n primes</a></li>
    </ul>
</section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
        <a href="http://stephanie-w.github.io/brainscribble/" class="home-url">
Brain Scribble    <li class="list-group-item">
        <ul class="list-group" id="links">
            <img class="img-thumbnail" src="http://stephanie-w.github.io/brainscribble/images/brain-scribble.png"/>
        </ul>
    </li>
        </a>



                    <li class="list-group-item"><h4><i class="fa fa-tags fa-list-ul"></i><span class="icon-label">Series</span></h4>
                        <ul class="list-group">
                            <li class="list-group-item">
                            </li>
                            <li class="list-group-item">
                                <h5>Next article</h5>
                                <a href="http://stephanie-w.github.io/brainscribble/rat-in-a-maze.html">Backtracking - Rat in a Maze</a>
                            </li>
                        </ul>
                    </li>

            <li class="list-group-item"><a href="http://stephanie-w.github.io/brainscribble/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group " id="tags">
                    <li class="list-group-item tag-1">
                        <a href="http://stephanie-w.github.io/brainscribble/tag/python.html">
                            python
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://stephanie-w.github.io/brainscribble/tag/machine-learning.html">
                            machine-learning
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://stephanie-w.github.io/brainscribble/tag/r.html">
                            R
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://stephanie-w.github.io/brainscribble/tag/ipython-notebook.html">
                            ipython-notebook
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://stephanie-w.github.io/brainscribble/tag/stats.html">
                            stats
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://stephanie-w.github.io/brainscribble/tag/algorithm.html">
                            algorithm
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://stephanie-w.github.io/brainscribble/tag/scikit-learn.html">
                            scikit-learn
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="http://stephanie-w.github.io/brainscribble/tag/hadoop.html">
                            hadoop
                        </a>
                    </li>
                </ul>
            </li>

            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://fr.linkedin.com/pub/stephanie-werli/26/b69/a0b"><i class="fa fa-linkedin-square fa-lg"></i> linkedin</a></li>
                <li class="list-group-item"><a href="http://github.com/stephanie-w"><i class="fa fa-github-square fa-lg"></i> github</a></li>
              </ul>
            </li>
    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="https://www.codeeval.com/profile/lisptick/" target="_blank">
                codeeval Profile
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://www.hackerrank.com/lisptick" target="_blank">
                hackerrank Profile
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://public.tableau.com/profile/stephanie.w3667#!/" target="_blank">
                Tableau Profile
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container-fluid">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Stephanie W
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://stephanie-w.github.io/brainscribble/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://stephanie-w.github.io/brainscribble/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://stephanie-w.github.io/brainscribble/theme/js/respond.min.js"></script>


</body>
</html>